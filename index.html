<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mental Health Awareness Campaign</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header class="hero">
    <div class="hero-content">
      <h1>Mental Health Tracker</h1>
      <p>Your mental health matters — let’s prioritize it together.</p>
    </div>
  </header>

  <section class="about">
    <h2>What is Mental Health?</h2>
    <div class="content">
      <img src="mental-health.avif" alt="Mental Health Awareness">
      <p>
        Mental health includes our emotional, psychological, and social well-being. It affects how we think, feel, and act, 
        and it also impacts how we handle stress, relate to others, and make choices. Good mental health is essential at every stage of life.
      </p>
    </div>

    <h2>About The Tracker</h2>
    <div class="content">
      <img src="campaign-image.png" alt="Campaign">
      <p>
        This Mental Health Tracker is aimed at promoting the importance of mental well-being, breaking stigma, and encouraging open conversations about emotional health. 
        You can track your Mental Health by clicking the button below and sharing your problems.
      </p>
    </div>
  </section>

  <section class="cta">
    <h2>Track your Mental Health</h2>
    <p>Click the button below to fill out a short mental health form.</p>
    <a href="form.html" class="button">Start</a>
  </section>

  <!-- Bottom Chatbot Div -->
  <div class="chatbot-container">
    <img src="https://cdn-icons-png.flaticon.com/512/4712/4712023.png" alt="Chatbot Logo">
    <span>Chat with us</span>
  </div>
  <script src="chatbot.js"></script>
  <script>
const form = document.querySelector('form');
const submitBtn = form.querySelector('button[type="submit"]');

// Create Download & Email buttons dynamically
const downloadBtn = document.createElement('button');
downloadBtn.textContent = "Download Report";
downloadBtn.disabled = true;
downloadBtn.style.marginTop = "10px";
form.appendChild(downloadBtn);

const emailBtn = document.createElement('button');
emailBtn.textContent = "Send Report via Email";
emailBtn.disabled = true;
emailBtn.style.marginTop = "10px";
form.appendChild(emailBtn);

let pdfFile = "";

form.addEventListener('submit', function(e){
    e.preventDefault();
    const formData = new FormData(form);

    fetch('/submit', { method: 'POST', body: formData })
    .then(res => res.json())
    .then(data => {
        if(data.status === 'success'){
            pdfFile = data.pdf;
            alert("Report generated successfully!");
            downloadBtn.disabled = false;
            emailBtn.disabled = false;
        }
    });
});

downloadBtn.addEventListener('click', ()=>{
    window.location.href = pdfFile;
});

emailBtn.addEventListener('click', ()=>{
    const email = form.querySelector('#email').value;
    if(!email){ alert("Please enter your email"); return; }

    fetch('/send_email', {
        method: 'POST',
        headers: {'Content-Type':'application/x-www-form-urlencoded'},
        body: `email=${encodeURIComponent(email)}&pdf_file=${encodeURIComponent(pdfFile)}`
    }).then(res=>res.json())
    .then(data=>{
        if(data.status==='email_sent'){
            alert("Report sent to your email!");
        }
    });
});
</script>


  <footer>
    <p>&copy; 2025 Mental Health Tracker | Helpline: 1800-123-4567</p>
  </footer>

</body>
</html>




